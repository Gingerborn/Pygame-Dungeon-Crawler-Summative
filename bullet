class Bullet(pg.sprite.Sprite):
    def __init__(self,game,pos,dir):
        self.groups = game.all_sprites, game.bullets
        self.game = game
        pg.sprite.Sprite.__init__(self,self.groups)
        self.image = game.bullet_img
        self.rect = self.image.get_rect()
        self.pos = vec(pos)
        self.rect.center = pos
        spread = uniform(-gun_spread, gun_spread)
        self.vel = dir.rotate(spread) * bullet_speed
        self.spawn_time = pg.time.get_ticks()
    
    def update(self):
        self.pos += self.vel *self.game.dt
        self.rect.center = self.pos
        if pg.sprite.spritecollideany(self,self.game.walls):
            self.kill()
        if pg.time.get_ticks() - self.spawn_time > bullet_lifetime:
            self.kill()
